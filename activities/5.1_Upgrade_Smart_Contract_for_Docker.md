# TÃªn cÃ´ng viá»‡c: NÃ¢ng cáº¥p Smart Contract Ä‘á»ƒ há»— trá»£ Job phá»©c táº¡p (Docker & IPFS)

- **NgÆ°á»i thá»±c hiá»‡n (Implemented by):** KhÃ¡nh
- **LiÃªn quan Ä‘áº¿n Giai Ä‘oáº¡n (Related to Phase):** 5.1

---

## ğŸ“ Káº¿ hoáº¡ch thá»±c thi (Execution Plan)

**1. Má»¥c tiÃªu (Goal):**
*   NÃ¢ng cáº¥p chÆ°Æ¡ng trÃ¬nh on-chain `compute-share` Ä‘á»ƒ há»— trá»£ cÃ¡c cÃ´ng viá»‡c phá»©c táº¡p, sá»­ dá»¥ng kiáº¿n trÃºc metadata linh hoáº¡t dá»±a trÃªn "tags" Ä‘á»ƒ mÃ´ táº£ cÃ´ng viá»‡c vÃ  yÃªu cáº§u pháº§n cá»©ng.

**2. LÃ½ do (Reason):**
*   MÃ´ hÃ¬nh 32-byte cÅ© quÃ¡ giá»›i háº¡n. Kiáº¿n trÃºc tag-based má»›i cho phÃ©p Renter mÃ´ táº£ chÃ­nh xÃ¡c há» cáº§n gÃ¬, vÃ  Provider cÃ³ thá»ƒ lá»c job hiá»‡u quáº£, má»Ÿ khÃ³a cÃ¡c trÆ°á»ng há»£p sá»­ dá»¥ng giÃ¡ trá»‹ cao.

**3. CÃ¡c bÆ°á»›c thá»±c hiá»‡n (Steps):**

*   **BÆ°á»›c 1: Cáº­p nháº­t `lib.rs` - Äá»‹nh nghÄ©a cáº¥u trÃºc dá»¯ liá»‡u cuá»‘i cÃ¹ng**
    *   Táº¡o `pub enum ExecutionEngine { Docker }`.
    *   Sá»­a Ä‘á»•i `JobAccount` Ä‘á»ƒ bao gá»“m cÃ¡c trÆ°á»ng: `engine: ExecutionEngine`, `job_details: String`, `results: String`, `job_tags: Vec<String>`, vÃ  `hardware_tags: Vec<String>`.
    *   XÃ³a cÃ¡c trÆ°á»ng cÅ© khÃ´ng cÃ²n cáº§n thiáº¿t.

*   **BÆ°á»›c 2: Cáº­p nháº­t `lib.rs` - Sá»­a Ä‘á»•i Instructions**
    *   **`create_job`**: Thay Ä‘á»•i tham sá»‘ Ä‘á»ƒ nháº­n `job_details: String`, `job_tags: Vec<String>`, vÃ  `hardware_tags: Vec<String>`.
    *   **`submit_results`**: Thay Ä‘á»•i tham sá»‘ Ä‘á»ƒ nháº­n `results: String`.

*   **BÆ°á»›c 3: Táº¡o `specs/tags_dictionary.md`**
    *   Táº¡o má»™t file má»›i Ä‘á»ƒ Ä‘á»‹nh nghÄ©a bá»™ tá»« vá»±ng chuáº©n cho `job_tags` vÃ  `hardware_tags`.

*   **BÆ°á»›c 4: Cáº­p nháº­t `tests/compute-share.ts` - Viáº¿t láº¡i Unit Tests**
    *   Viáº¿t láº¡i toÃ n bá»™ cÃ¡c bÃ i test Ä‘á»ƒ phÃ¹ há»£p vá»›i cáº¥u trÃºc `JobAccount` má»›i vÃ  cÃ¡c tham sá»‘ instruction Ä‘Ã£ thay Ä‘á»•i, sá»­ dá»¥ng cÃ¡c tags tá»« tá»« Ä‘iá»ƒn.

*   **BÆ°á»›c 5: XÃ¡c minh**
    *   Cháº¡y `anchor build` vÃ  `anchor test` Ä‘á»ƒ Ä‘áº£m báº£o má»i thá»© hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c.

---

## ğŸš€ Quy trÃ¬nh thá»±c hiá»‡n (Implementation Process)

- **Tráº¡ng thÃ¡i:** Äang thá»±c hiá»‡n.
- **Cáº­p nháº­t:**
    - [x] **BÆ°á»›c 1: Cáº­p nháº­t `lib.rs` - Äá»‹nh nghÄ©a cáº¥u trÃºc dá»¯ liá»‡u má»›i:** ÄÃ£ cÃ³ code máº«u cho `ExecutionEngine` vÃ  `JobAccount` má»›i.
    - [x] **BÆ°á»›c 2: Cáº­p nháº­t `lib.rs` - Sá»­a Ä‘á»•i Instructions:** ÄÃ£ cÃ³ code máº«u cho `create_job` vÃ  `submit_results` Ä‘Ã£ Ä‘Æ°á»£c sá»­a Ä‘á»•i.
    - [ ] **BÆ°á»›c 3: Cáº­p nháº­t `tests/compute-share.ts` - Viáº¿t láº¡i Unit Tests:** ÄÃ¢y lÃ  bÆ°á»›c tiáº¿p theo.
    - [ ] **BÆ°á»›c 4: XÃ¡c minh**